# üöÄ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –¥–µ–ø–ª–æ—é - –≠—Ç–∞–ø 1.2

## üìã –û–±–∑–æ—Ä

–≠—Ç–∞–ø 1.2 "–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è –∏ –ø–µ—Ä–≤—ã–π –¥–µ–ø–ª–æ–π" –≤–∫–ª—é—á–∞–µ—Ç:

- ‚úÖ Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è backend –∏ frontend
- ‚úÖ Docker Compose –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è Railway (backend) –∏ Vercel (frontend)
- ‚úÖ GitHub Actions –¥–ª—è CI/CD
- ‚úÖ Production-ready –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

## üê≥ –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Å Docker

### –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone <your-repo-url>
cd ITA_RENT_02

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
docker-compose up --build

# –ò–ª–∏ –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ
docker-compose up -d
```

**–î–æ—Å—Ç—É–ø–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã:**

- Backend API: http://localhost:8000
- Frontend: http://localhost:3000
- PostgreSQL: localhost:5432
- Redis: localhost:6379

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker-compose logs -f

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose down

# –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
docker-compose up --build
```

## üåê –î–µ–ø–ª–æ–π –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω

### Backend –Ω–∞ Railway

1. **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:**

   - –ó–∞–π—Ç–∏ –Ω–∞ [railway.app](https://railway.app)
   - –ü–æ–¥–∫–ª—é—á–∏—Ç—å GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
   - Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–∞—Ä—É–∂–∏—Ç `railway.toml`

2. **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**

   ```
   ENVIRONMENT=production
   SECRET_KEY=your-production-secret-key
   DATABASE_URL=postgresql://...
   ```

3. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π:**
   - Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–ø–ª–æ–∏—Ç –ø—Ä–∏ push –≤ main
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `Dockerfile.prod` –¥–ª—è —Å–±–æ—Ä–∫–∏
   - Health check –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ `/health`

### Frontend –Ω–∞ Vercel

1. **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:**

   - –ó–∞–π—Ç–∏ –Ω–∞ [vercel.com](https://vercel.com)
   - –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –∏–∑ GitHub
   - –£–∫–∞–∑–∞—Ç—å Root Directory: `frontend`

2. **–ù–∞—Å—Ç—Ä–æ–π–∫–∏:**

   - Build Command: `npm run build`
   - Output Directory: `dist`
   - Vercel –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `vercel.json`

3. **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
   ```
   VITE_API_URL=https://your-railway-app.railway.app
   ```

## ‚öôÔ∏è CI/CD —Å GitHub Actions

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏

–ü—Ä–∏ –∫–∞–∂–¥–æ–º push –≤ main –∏–ª–∏ PR:

- ‚úÖ –õ–∏–Ω—Ç–∏–Ω–≥ Python –∫–æ–¥–∞ (flake8)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ backend
- ‚úÖ –õ–∏–Ω—Ç–∏–Ω–≥ frontend –∫–æ–¥–∞ (ESLint)
- ‚úÖ –°–±–æ—Ä–∫–∞ frontend

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞

1. **Secrets –≤ GitHub:**

   ```
   RAILWAY_TOKEN=your-railway-token (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
   VERCEL_TOKEN=your-vercel-token (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
   ```

2. **Workflow:**
   - –§–∞–π–ª: `.github/workflows/deploy.yml`
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ –ø—Ä–∏ push –≤ main
   - –î–µ–ø–ª–æ–π —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤

## üîß Production –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### Backend (Dockerfile.prod)

- –ú–Ω–æ–≥–æ—ç—Ç–∞–ø–Ω–∞—è —Å–±–æ—Ä–∫–∞
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (–Ω–µ–ø—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)
- Health checks
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–∞–∑–º–µ—Ä –æ–±—Ä–∞–∑–∞

### Frontend (Dockerfile.prod + Nginx)

- –°–±–æ—Ä–∫–∞ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤
- Nginx –¥–ª—è —Ä–∞–∑–¥–∞—á–∏ —Ñ–∞–π–ª–æ–≤
- Gzip —Å–∂–∞—Ç–∏–µ
- Security headers
- –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤

## üêõ –û—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è

```bash
# Backend
python -m uvicorn src.main:app --host 0.0.0.0 --port 8000
curl http://localhost:8000/health

# Frontend
cd frontend
npm run dev
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ Docker —Å–±–æ—Ä–∫–∏

```bash
# Backend
docker build -t ita-rent-backend .
docker run -p 8000:8000 ita-rent-backend

# Frontend
cd frontend
docker build -f Dockerfile.prod -t ita-rent-frontend .
docker run -p 80:80 ita-rent-frontend
```

### –õ–æ–≥–∏ –≤ production

```bash
# Railway
railway logs

# Vercel
vercel logs
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### Health checks

- Backend: `GET /health`
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–∞—Ç—É—Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –≤–µ—Ä—Å–∏—é
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Railway –∏ GitHub Actions

### –ú–µ—Ç—Ä–∏–∫–∏

- Railway: –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å –º–µ—Ç—Ä–∏–∫
- Vercel: Analytics –∏ Core Web Vitals
- GitHub Actions: –∏—Å—Ç–æ—Ä–∏—è –¥–µ–ø–ª–æ–µ–≤

## üîÑ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è —ç—Ç–∞–ø–∞ 1.2:

1. **–≠—Ç–∞–ø 2.1**: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

   - PostgreSQL –≤ production
   - SQLAlchemy –º–æ–¥–µ–ª–∏
   - Alembic –º–∏–≥—Ä–∞—Ü–∏–∏

2. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**:

   - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Sentry –¥–ª—è –æ—à–∏–±–æ–∫
   - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ production
   - –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

3. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**:
   - HTTPS —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
   - –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
   - –°–µ–∫—Ä–µ—Ç—ã –≤ CI/CD

---

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –≠—Ç–∞–ø 1.2 –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤—ã–ø–æ–ª–Ω–µ–Ω –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω  
**–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å**: üöÄ –ì–æ—Ç–æ–≤–æ –∫ –¥–µ–ø–ª–æ—é –≤ production
