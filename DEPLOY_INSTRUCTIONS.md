# üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –¥–µ–ø–ª–æ—é ITA_RENT_BOT –Ω–∞ Railway

## ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –¥–µ–ø–ª–æ—é!

–í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –∫ production –¥–µ–ø–ª–æ—é:

- ‚úÖ API —Å–µ—Ä–≤–µ—Ä
- ‚úÖ Telegram –±–æ—Ç
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

## üîß –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è Railway

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

```bash
# –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
ENVIRONMENT=production
DEBUG=false
SECRET_KEY=production-super-secret-key-change-me-12345

# Telegram Bot
TELEGRAM_BOT_TOKEN=7894689920:AAFZldrCNcqv24wsIEi5pUvNIPgHWPkWlvc

# ScraperAPI (–¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞)
SCRAPERAPI_KEY=ff8892f744de6a7c18a7a02ff41d8da3

# –í–æ—Ä–∫–µ—Ä –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
SCRAPER_WORKER_INTERVAL_HOURS=6
SCRAPER_WORKER_MAX_PAGES=10
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ Railway:

- `DATABASE_URL` - PostgreSQL (—Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
- `PORT` - –ø–æ—Ä—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- `RAILWAY_ENVIRONMENT=production`

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–µ—Ä–≤–∏—Å–æ–≤ –≤ Railway

```
ITA_RENT_BOT/
‚îú‚îÄ‚îÄ backend (API —Å–µ—Ä–≤–µ—Ä)
‚îú‚îÄ‚îÄ frontend (React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)
‚îú‚îÄ‚îÄ scraper-worker (–ø–∞—Ä—Å–∏–Ω–≥ –∫–∞–∂–¥—ã–µ 6 —á–∞—Å–æ–≤)
‚îú‚îÄ‚îÄ telegram-bot (Telegram –±–æ—Ç)
‚îú‚îÄ‚îÄ notification-worker (—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∫–∞–∂–¥—ã–µ 30 –º–∏–Ω)
‚îî‚îÄ‚îÄ postgres (–±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö)
```

## üöÄ –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –¥–µ–ø–ª–æ—è

```bash
# 1. –ö–æ–º–º–∏—Ç –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
git add .
git commit -m "feat: Complete Telegram bot system (Stage 6)"

# 2. –ü—É—à –≤ main –≤–µ—Ç–∫—É
git push origin main

# 3. Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞–∑–≤–µ—Ä–Ω–µ—Ç –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
```

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ Railway Dashboard

### 1. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–î–æ–±–∞–≤—å—Ç–µ –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ —Å–ø–∏—Å–∫–∞ –≤—ã—à–µ –≤ Railway Dashboard

### 2. –°–µ—Ä–≤–∏—Å—ã

Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç —Å–µ—Ä–≤–∏—Å—ã —Å–æ–≥–ª–∞—Å–Ω–æ `railway.toml`:

- `backend` - –æ—Å–Ω–æ–≤–Ω–æ–π API
- `telegram-bot` - Telegram –±–æ—Ç
- `notification-worker` - –¥–∏—Å–ø–µ—Ç—á–µ—Ä —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- `scraper-worker` - –ø–∞—Ä—Å–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö

### 3. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç PostgreSQL –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç `DATABASE_URL`

## üß™ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

### 1. API –ø—Ä–æ–≤–µ—Ä–∫–∏:

```bash
curl https://your-app.railway.app/health
curl https://your-app.railway.app/api/v1/telegram/status
```

### 2. Telegram –±–æ—Ç:

- –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/start` –±–æ—Ç—É
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ `/help`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `/register your@email.com`

### 3. –õ–æ–≥–∏ —Å–µ—Ä–≤–∏—Å–æ–≤:

- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ `telegram-bot` —Å–µ—Ä–≤–∏—Å–∞
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ `notification-worker`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–µ—Ç –æ—à–∏–±–æ–∫

## üîî –ù–∞—Å—Ç—Ä–æ–π–∫–∞ webhook (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å webhook –¥–ª—è Telegram:

```bash
curl -X POST \
  "https://api.telegram.org/bot7894689920:AAFZldrCNcqv24wsIEi5pUvNIPgHWPkWlvc/setWebhook" \
  -H "Content-Type: application/json" \
  -d '{
    "url": "https://your-app.railway.app/api/v1/telegram/webhook"
  }'
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ:

- –õ–æ–≥–∏ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –≤ Railway Dashboard
- –û—Ç–≤–µ—Ç—ã –±–æ—Ç–∞ –≤ Telegram
- –†–∞–±–æ—Ç—É cron –∑–∞–¥–∞—á (–∫–∞–∂–¥—ã–µ 30 –º–∏–Ω—É—Ç)
- –û—Ç–ø—Ä–∞–≤–∫—É —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º

## üêõ –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º

### –ï—Å–ª–∏ –±–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ `telegram-bot` —Å–µ—Ä–≤–∏—Å–∞
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `TELEGRAM_BOT_TOKEN` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–∞ –≤ Railway

### –ï—Å–ª–∏ –Ω–µ –ø—Ä–∏—Ö–æ–¥—è—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ `notification-worker`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –µ—Å—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–≤—è–∑–∞–ª Telegram –∞–∫–∫–∞—É–Ω—Ç

---

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –¥–µ–ø–ª–æ—é  
**–í—Ä–µ–º—è –¥–µ–ø–ª–æ—è**: ~10-15 –º–∏–Ω—É—Ç  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –Ø–Ω–≤–∞—Ä—å 2025
