# 🕐 Настройка Cron Schedule в Railway

## Проблема

Скрапер выполняется только один раз и не повторяется автоматически.

## Решение: Railway Cron Schedule

### 📋 Шаги настройки:

1. **Откройте проект в Railway**

   - Перейдите к сервису `SCRAPPER`

2. **Перейдите в Settings**

   - Нажмите на сервис `SCRAPPER`
   - Перейдите во вкладку `Settings`

3. **Настройте Cron Schedule**
   - Найдите секцию `Cron Schedule`
   - Нажмите `+ Cron Schedule`
   - Введите расписание: `0 * * * *`
   - Описание: "Scrape Immobiliare every hour"

### ⏰ Формат расписания (cron expression):

```
0 * * * *
│ │ │ │ │
│ │ │ │ └── День недели (0-7, 0=воскресенье)
│ │ │ └──── Месяц (1-12)
│ │ └────── День месяца (1-31)
│ └──────── Час (0-23)
└────────── Минута (0-59)
```

### 📅 Примеры расписаний:

- `0 * * * *` - каждый час в :00 минут
- `0 */2 * * *` - каждые 2 часа
- `0 9,18 * * *` - в 9:00 и 18:00 каждый день
- `0 9 * * 1-5` - в 9:00 по будням

### ✅ Рекомендуемое расписание:

**`0 * * * *`** - каждый час в начале часа

Это означает:

- 13:00, 14:00, 15:00, 16:00 и т.д.
- Стабильное расписание
- Регулярное обновление данных

### 🎯 Результат:

После настройки скрапер будет автоматически запускаться каждый час и в логах вы увидите:

```
🚀 Запуск парсинга через Railway Cron...
⏰ Расписание: каждый час в :00 минут
🚀 Парсинг Immobiliare.it (Рим)
🚀 Запуск парсинга 10 страниц...
✅ Парсинг завершен: 172 объявлений за 429.8с
💾 Сохранено: 0 новых, 172 обновлено
⏰ Следующий запуск: 15:00 28.07.2025 (через 1ч)
```

### 🚨 Важно:

- Удалите или отключите сервис `scraper-worker` чтобы избежать дублирования
- Используйте либо Cron Schedule, либо Worker, но не оба одновременно
