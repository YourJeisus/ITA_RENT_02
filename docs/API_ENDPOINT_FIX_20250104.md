# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã 404 –Ω–∞ —ç–Ω–¥–ø–æ–∏–Ω—Ç–µ /listings - 04.11.2025

## –ü—Ä–æ–±–ª–µ–º–∞
–§—Ä–æ–Ω—Ç–µ–Ω–¥ –Ω–∞ Vercel (https://ita-rent-02.vercel.app) –ø–æ–∫–∞–∑—ã–≤–∞–ª –æ—à–∏–±–∫—É 404 –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –∑–∞–≥—Ä—É–∑–∏—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏—è:

```
itarent02back-production.up.railway.app/listings/?city=Roma&skip=0&limit=50:1  Failed to load resource: the server responded with a status of 404 ()
```

## –ö–æ—Ä–µ–Ω—å –ø—Ä–æ–±–ª–µ–º—ã
–í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –≤–∏–¥–Ω–æ –±—ã–ª–æ:
```
üîó API Base URL: https://itarent02back-production.up.railway.app
```

**–ë–ï–ó** `/api/v1`!

–ù–æ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π URL –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å:
```
https://itarent02back-production.up.railway.app/api/v1/listings/?city=Roma...
```

## –ü—Ä–∏—á–∏–Ω—ã
–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è `VITE_API_URL` –±—ã–ª–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ **–±–µ–∑** –ø—É—Ç–∏ `/api/v1` –≤ —Ç—Ä—ë—Ö –º–µ—Å—Ç–∞—Ö:

1. **frontend/Dockerfile** - —Å—Ç—Ä–æ–∫–∞ 16
2. **frontend/railway.toml** - —Å—Ç—Ä–æ–∫–∞ 12
3. **frontend/vercel.json** - —Å—Ç—Ä–æ–∫–∞ 22

## –†–µ—à–µ–Ω–∏–µ
–û–±–Ω–æ–≤–∏–ª –≤—Å–µ —Ç—Ä–∏ —Ñ–∞–π–ª–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, –¥–æ–±–∞–≤–∏–≤ `/api/v1` –∫ `VITE_API_URL`:

```dockerfile
# –î–æ:
ENV VITE_API_URL=https://itarent02back-production.up.railway.app

# –ü–æ—Å–ª–µ:
ENV VITE_API_URL=https://itarent02back-production.up.railway.app/api/v1
```

## –§–∞–π–ª—ã –∏–∑–º–µ–Ω—ë–Ω–Ω—ã–µ
1. ‚úÖ `frontend/Dockerfile` - –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è
2. ‚úÖ `frontend/Dockerfile.railway` - —Å–æ–∑–¥–∞–Ω –Ω–æ–≤—ã–π —Ñ–∞–π–ª —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
3. ‚úÖ `frontend/vercel.json` - –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è
4. ‚úÖ `frontend/railway.toml` - –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è

## –ö–æ–º–º–∏—Ç—ã
1. `efe436e` - fix: –¥–æ–±–∞–≤–∏—Ç—å /api/v1 –∫ VITE_API_URL –¥–ª—è Railway deployment
2. `b2abbbc` - fix: –¥–æ–±–∞–≤–∏—Ç—å /api/v1 –∫ VITE_API_URL –≤–æ –≤—Å–µ—Ö –∫–æ–Ω—Ñ–∏–≥–∞—Ö (vercel –∏ railway.toml)

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç
–í `frontend/src/services/apiClient.ts` –µ—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏—è `getApiBaseUrl()`:

```typescript
const getApiBaseUrl = (): string => {
  // 1. –ï—Å–ª–∏ –µ—Å—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è - –∏—Å–ø–æ–ª—å–∑—É–µ–º –µ—ë
  if (import.meta.env.VITE_API_URL) {
    return import.meta.env.VITE_API_URL;  // ‚Üê –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è
  }
  
  // 2-4. Fallback –¥–ª—è –¥—Ä—É–≥–∏—Ö —Å–ª—É—á–∞–µ–≤...
};
```

–¢–∞–∫ –∫–∞–∫ —ç—Ç–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤ `Dockerfile` –Ω–∞ —ç—Ç–∞–ø–µ —Å–±–æ—Ä–∫–∏, –Ω—É–∂–Ω–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤–∫–ª—é—á–∏—Ç—å `/api/v1` –ø—Ä—è–º–æ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é.

## –†–µ–∑—É–ª—å—Ç–∞—Ç
–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è:
- Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Å–æ–±–∏—Ä–∞–µ—Ç —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥
- Vercel –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç –∫–æ–Ω—Ñ–∏–≥
- –§—Ä–æ–Ω—Ç–µ–Ω–¥ —Ç–µ–ø–µ—Ä—å –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É URL
- –ó–∞–ø—Ä–æ—Å—ã –∏–¥—É—Ç –Ω–∞ `https://itarent02back-production.up.railway.app/api/v1/listings/`
- –ë—ç–∫ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 200 OK —Å –æ–±—ä—è–≤–ª–µ–Ω–∏—è–º–∏

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ
```bash
curl "http://localhost:8000/api/v1/listings/?city=Roma&skip=0&limit=5"
```
‚úÖ –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç 200 OK —Å –æ–±—ä—è–≤–ª–µ–Ω–∏—è–º–∏
