# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ: –ú–∞—Å—Å–æ–≤–æ–µ —Å–∫—Ä–∞–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Railway –ë–î

## üìã –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –õ–æ–∫–∞–ª—å–Ω–æ (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)

```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ .env –Ω–∞—Å—Ç—Ä–æ–µ–Ω (–¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π –ë–î SQLite)
python scripts/bulk_scrape_railway.py --pages 20

# –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –±—É–¥—É—Ç –≤ —Ñ–∞–π–ª–µ: bulk_scrape.log
```

### –ù–∞ Railway

#### –®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫–æ–¥–∞
```bash
# –ö–æ–º–º–∏—Ç–∏–º —Å–∫—Ä–∏–ø—Ç –≤ git
git add scripts/bulk_scrape_railway.py
git commit -m "feat: add bulk scrape script for railway"
git push origin main
```

#### –®–∞–≥ 2: –ó–∞–ø—É—Å–∫ –Ω–∞ Railway —á–µ—Ä–µ–∑ CLI
```bash
# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º Railway CLI –µ—Å–ª–∏ –µ—â–µ –Ω–µ—Ç
npm i -g @railway/cli

# –õ–æ–≥–∏–Ω–∏–º—Å—è –≤ Railway
railway login

# –ó–∞—Ö–æ–¥–∏–º –≤ –ø—Ä–æ–µ–∫—Ç
railway link

# –ó–∞–ø—É—Å–∫–∞–µ–º —Å–∫—Ä–∏–ø—Ç
railway run python scripts/bulk_scrape_railway.py --pages 20
```

#### –®–∞–≥ 3: –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Railway Dashboard (Web UI)

1. –û—Ç–∫—Ä–æ–π—Ç–µ https://railway.app/dashboard
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –≤–∞—à Backend —Å–µ—Ä–≤–∏—Å
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É "Deployments"
4. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π deployment
5. –û—Ç–∫—Ä–æ–π—Ç–µ "Logs" –≤ –ø—Ä–∞–≤–æ–π –ø–∞–Ω–µ–ª–∏
6. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É —á–µ—Ä–µ–∑ SSH –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Railway CLI

**–ò–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —á–µ—Ä–µ–∑ Deploy Hook:**

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Backend —Å–µ—Ä–≤–∏—Å ‚Üí Settings
2. –ù–∞–π–¥–∏—Ç–µ "Run" –∏–ª–∏ "Execute" –æ–ø—Ü–∏—é
3. –°–æ–∑–¥–∞–π—Ç–µ Custom Run:
   ```
   python scripts/bulk_scrape_railway.py --pages 20
   ```

---

## üîß –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–º–∞–Ω–¥—ã

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|----------|--------------|---------|
| `--pages` | —á–∏—Å–ª–æ | 20 | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–∞–Ω–∏—Ü –∏–∑ –∫–∞–∂–¥–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ |
| `--local` | —Ñ–ª–∞–≥ | –Ω–µ—Ç | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—É—é –ë–î –≤–º–µ—Å—Ç–æ Railway |

**–ü—Ä–∏–º–µ—Ä—ã:**

```bash
# –°–∫—Ä–∞–ø–∏—Ç—å 10 —Å—Ç—Ä–∞–Ω–∏—Ü
python scripts/bulk_scrape_railway.py --pages 10

# –°–∫—Ä–∞–ø–∏—Ç—å 50 —Å—Ç—Ä–∞–Ω–∏—Ü (–º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –¥–æ–ª–≥–æ)
python scripts/bulk_scrape_railway.py --pages 50

# –õ–æ–∫–∞–ª—å–Ω–æ (SQLite)
python scripts/bulk_scrape_railway.py --pages 20 --local
```

---

## üìä –ß—Ç–æ —Å–∫—Ä–∏–ø—Ç –¥–µ–ª–∞–µ—Ç

1. **–°–∫—Ä–∞–ø–∏—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ** –≤—Å–µ 4 –∏—Å—Ç–æ—á–Ω–∏–∫–∞:
   - Casa.it
   - Subito.it
   - Idealista.it
   - Immobiliare.it

2. **–°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ –ë–î** —Å –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–µ–π:
   - –ù–æ–≤—ã–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è
   - –û–±–Ω–æ–≤–ª—è–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ
   - –ü—Ä–æ–ø—É—Å–∫–∞–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç—ã

3. **–í—ã–≤–æ–¥–∏—Ç –ø–æ–¥—Ä–æ–±–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É**:
   - –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—ä—è–≤–ª–µ–Ω–∏–π –ø–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º
   - –°—Ç–∞—Ç—É—Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è

---

## üìù –õ–æ–≥–∏

–õ–æ–≥–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `bulk_scrape.log` –∏ —Ç–∞–∫–∂–µ –≤—ã–≤–æ–¥—è—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å:

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –ª–æ–∫–∞–ª—å–Ω–æ
tail -f bulk_scrape.log

# –ù–∞ Railway (—á–µ—Ä–µ–∑ CLI)
railway run tail -f bulk_scrape.log
```

–¢–∞–∫–∂–µ –≤ Dashboard Railway ‚Üí Backend ‚Üí Logs –≤—ã —É–≤–∏–¥–∏—Ç–µ –≤–µ—Å—å –≤—ã–≤–æ–¥.

---

## ‚è±Ô∏è –ü—Ä–∏–º–µ—Ä–Ω–æ–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

- **10 —Å—Ç—Ä–∞–Ω–∏—Ü** ‚Üí 15-20 –º–∏–Ω—É—Ç
- **20 —Å—Ç—Ä–∞–Ω–∏—Ü** ‚Üí 30-40 –º–∏–Ω—É—Ç  
- **50 —Å—Ç—Ä–∞–Ω–∏—Ü** ‚Üí 1.5-2 —á–∞—Å–∞

–ó–∞–≤–∏—Å–∏—Ç –æ—Ç —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ –∏ –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ —Å–∞–π—Ç—ã.

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–∞ –≤—ã —É–≤–∏–¥–∏—Ç–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É:

```
================================================================================
üéâ –û–ü–ï–†–ê–¶–ò–Ø –ó–ê–í–ï–†–®–ï–ù–ê –£–°–ü–ï–®–ù–û!
================================================================================

‚è±Ô∏è –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: 35 –º–∏–Ω 22 —Å–µ–∫

üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê –ü–û –ò–°–¢–û–ß–ù–ò–ö–ê–ú:
   CASA_IT         ‚Üí 145 –æ–±—ä—è–≤–ª–µ–Ω–∏–π
   SUBITO          ‚Üí 189 –æ–±—ä—è–≤–ª–µ–Ω–∏–π
   IDEALISTA       ‚Üí 167 –æ–±—ä—è–≤–ª–µ–Ω–∏–π
   IMMOBILIARE     ‚Üí 201 –æ–±—ä—è–≤–ª–µ–Ω–∏–π

üíæ –°–¢–ê–¢–ò–°–¢–ò–ö–ê –°–û–•–†–ê–ù–ï–ù–ò–Ø:
   –í—Å–µ–≥–æ —Å–∫—Ä–∞–ø–µ–Ω–æ   ‚Üí 702
   –°–æ–∑–¥–∞–Ω–æ –Ω–æ–≤—ã—Ö    ‚Üí 658
   –û–±–Ω–æ–≤–ª–µ–Ω–æ        ‚Üí 22
   –î—É–±–ª–∏–∫–∞—Ç—ã        ‚Üí 18
   –û—à–∏–±–∫–∏           ‚Üí 4
```

---

## üö® –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫

### –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `DATABASE_URL` –≤ `.env` –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
- –ù–∞ Railway –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞

### –û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞
- –°–∫—Ä–∏–ø—Ç –ø—Ä–æ–¥–æ–ª–∂–∏—Ç —Ä–∞–±–æ—Ç–∞—Ç—å, –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ –æ—à–∏–±–∫–∏
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `bulk_scrape.log` –¥–ª—è –¥–µ—Ç–∞–ª–µ–π
- –í–æ–∑–º–æ–∂–Ω–æ, —Å–∞–π—Ç—ã –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–ª–∏ IP (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è ScraperAPI)

### –°–∫—Ä–∏–ø—Ç –∑–∞–≤–∏—Å–∞–µ—Ç
- –ö–∞–∂–¥–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∏–º–µ–µ—Ç timeout 30 —Å–µ–∫
- –ï—Å–ª–∏ –∑–∞–ª–∏–ø–∞–µ—Ç, –ø—Ä–µ—Ä—ã–≤–∏—Ç–µ (Ctrl+C) –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–Ω–æ–≤–∞
- –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ

---

## üí° –°–æ–≤–µ—Ç—ã

1. **–ó–∞–ø—É—Å–∫–∞–π—Ç–µ –≤ off-peak —á–∞—Å—ã** —á—Ç–æ–±—ã –Ω–µ –Ω–∞–≥—Ä—É–∂–∞—Ç—å —Å–µ—Ä–≤–∏—Å
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ ScraperAPI –ª–∏–º–∏—Ç—ã** –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –±–æ–ª—å—à–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞
3. **–ù–∞—á–Ω–∏—Ç–µ —Å --pages 5** –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –∑–∞—Ç–µ–º —É–≤–µ–ª–∏—á–∏–≤–∞–π—Ç–µ
4. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Railway CLI** –¥–ª—è –±–æ–ª–µ–µ –Ω–∞–¥–µ–∂–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞:
   ```bash
   railway run --no-new-line python scripts/bulk_scrape_railway.py --pages 20
   ```

---

## üìû –ó–∞–ø—É—Å–∫ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é (Cron)

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –∑–∞–ø—É—Å–∫–∞—Ç—å —Ä–µ–≥—É–ª—è—Ä–Ω–æ:

1. –ù–∞ Railway –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ Cron Jobs
2. –ò–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ GitHub Actions:

```yaml
# .github/workflows/bulk-scrape.yml
name: Bulk Scrape
on:
  schedule:
    - cron: '0 2 * * *'  # –ö–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 2:00 UTC

jobs:
  scrape:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - run: |
          railway run python scripts/bulk_scrape_railway.py --pages 20
```

---

**–°–æ–∑–¥–∞–Ω–æ:** 2024
**–î–ª—è –ø—Ä–æ–µ–∫—Ç–∞:** ITA_RENT_02
